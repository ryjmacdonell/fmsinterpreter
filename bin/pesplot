#!/usr/bin/env python
"""
Command line script for plotting critical points on the potential energy
surface.
"""
import os
from fmsinterpreter import fileio
from fmsinterpreter import potentials
from fmsinterpreter import default
from fmsinterpreter import plot


def main():
    """The main pesplot routine."""
    # read in the input file
    inp = default.pesplot
    fileio.cfg_update(inp, default.inpname['pesplot'])

    # read in the energy data
    labels, energies = potentials.read_nrg(inp['infname'])

    # reorder indices and convert energies
    labels, energies = potentials.conv_nrg(labels, energies,
                                           order=inp['plotorder'],
                                           conv=inp['econv'],
                                           base=inp['minener'])

    # plot the potential energy surface points
    fig, ax = plot.energyplot(labels, energies, wid=inp['gwid'],
                              sep=inp['gsep'], rot=inp['lblrot'],
                              maxe=inp['maxener'])
    fig.savefig(inp['plot_name'], bbox_inches='tight')


if __name__ == '__main__':
    main()
